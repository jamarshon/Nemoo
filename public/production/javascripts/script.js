// script.js
var app=angular.module("App"),MAX_QUEUE_LENGTH=25,scrollBottom=function(){var e=document.getElementById("scrollable-container");$(e).scrollTop(e.scrollHeight)};app.controller("MainCtrl",["$scope",function(e){var t=this;this.socket=io(),this.socket.on("user connected",function(){e.$apply(function(){t.currentNumOnline++})}),this.socket.on("user disconnected",function(){e.$apply(function(){t.currentNumOnline--})})}]),app.controller("DiscussionCtrl",["$routeParams","$timeout","$scope","$templateCache",function(e,t,n,o){var a=this,c=e.page;console.log(c),o.remove("/partials/"+c);document.getElementById("scrollable-container");t(function(){scrollBottom()},0),this.init=function(e){e.page=c,this.main=e,this.main.socket.on("message received",function(e,t){var o={displayName:t.displayName,profilePic:t.profilePic,backgroundColor:t.backgroundColor,created:t.created,message:e};a.data.length>MAX_QUEUE_LENGTH&&a.data.shift(),a.data.push(o),n.$apply()})}}]),app.animation(".animate-message",[function(){return{enter:function(e){$(e).addClass("animated bounce"),scrollBottom()}}}]);