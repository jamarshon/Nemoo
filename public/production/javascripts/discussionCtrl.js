var app=angular.module("App"),MAX_QUEUE_LENGTH=25,scrollBottom=function(){var e=document.getElementById("scrollable-container");$(e).scrollTop(e.scrollHeight)};app.controller("DiscussionCtrl",["$routeParams","$timeout","$scope","$templateCache",function(e,a,t,o){var n=this,i=e.page;console.log(i),o.remove("/partials/"+i);document.getElementById("scrollable-container");a(function(){scrollBottom()},0),this.init=function(e){e.page=i,this.main=e,this.main.socket.on(this.main.page+" message received",function(e,a){var o={displayName:a.displayName,profilePic:a.profilePic,backgroundColor:a.backgroundColor,created:a.created,message:e};n.data.length>MAX_QUEUE_LENGTH&&n.data.shift(),n.data.push(o),t.$apply()})}}]),app.animation(".animate-message",[function(){return{enter:function(e){$(e).addClass("animated bounce"),scrollBottom()}}}]);