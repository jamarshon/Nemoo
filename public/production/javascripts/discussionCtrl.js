var app=angular.module("App"),MAX_QUEUE_LENGTH=25,scrollBottom=function(){var e=document.getElementById("scrollable-container");$(e).scrollTop(e.scrollHeight)};app.controller("DiscussionCtrl",["$routeParams","$timeout","$scope","$templateCache","toastManager",function(e,a,t,o,n){var i=this,l=e.page;console.log(l),o.remove("/partials/"+l);document.getElementById("scrollable-container");a(function(){scrollBottom(),n.showSimple('Currently viewing "'+i.pageName+'"',3e3)}),this.init=function(e,a){e.page=l,this.main=e,this.pageName=a,this.main.socket.on(this.main.page+" message received",function(e,a){var o={displayName:a.displayName,profilePic:a.profilePic,backgroundColor:a.backgroundColor,created:a.created,message:e};i.data.length>MAX_QUEUE_LENGTH&&i.data.shift(),i.data.push(o),t.$apply()})}}]),app.animation(".animate-message",[function(){return{enter:function(e){$(e).addClass("animated bounce"),scrollBottom()}}}]);