var app=angular.module("App"),general=[{url:"/contact",title:"Contact Us",icon:"email"},{url:"/settings",title:"Settings",icon:"settings"}];app.controller("PanelCtrl",["$location","$mdDialog","$mdSidenav","$mdMedia","$http",function(t,e,n,i,l){var r=this,o={callback:function(t){e.show({controller:"DiscussionDialogCtrl",controllerAs:"dlgCtrl",templateUrl:"/views/createDiscussionDialog.ejs",parent:angular.element(document.body),locals:{user:r.main.user},targetEvent:t,clickOutsideToClose:!0})},title:"Create Discussion",icon:"message"};general.unshift(o),this.general=general,l.get("/trendingDiscussions").then(function(t){r.trending=t.data.discussions.map(function(t){return{title:t}})}),this.init=function(t){r.main=t},this.unfocus=function(t,e){if(e.callback)e.callback(t);else{var n=e.url||"/page/"+e.title.toLowerCase().split(" ").join("-");r.softRedirect(n),e.url||r.togglePanel()}$(t.target).blur()},this.togglePanel=function(){var t=n("left"),e=i("gt-sm");e||t.close()},this.removeSettings=function(t){return function(e){return"Settings"!==e.title||t}},this.softRedirect=function(e){t.url(e)}}]),app.controller("UserNavCtrl",["$window","$location",function(t,e){this.hardRedirect=function(e){t.location.href=e},this.softRedirect=function(t){e.url(t)},this.unfocus=function(t){$(t.target).blur()}}]),app.directive("nemooPanel",function(){return{restrict:"E",templateUrl:"/views/panel.ejs",controller:"PanelCtrl",controllerAs:"panelCtrl"}}),app.directive("nemooUserNavPanel",function(){return{restrict:"E",templateUrl:"/views/userNavPanel.ejs",controller:"UserNavCtrl",controllerAs:"userNavCtrl"}});