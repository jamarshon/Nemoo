var app=angular.module("App"),general=[{url:"/explore",title:"Explore",icon:"cloud"},{url:"/settings",title:"Settings",icon:"settings"}];app.controller("PanelCtrl",["$location","$mdDialog","$mdSidenav","$mdMedia","$http",function(t,e,n,l,i){var o=this,r={callback:function(t){o.togglePanel(function(){e.show({controller:"DiscussionDialogCtrl",controllerAs:"dlgCtrl",templateUrl:"/views/createDiscussionDialog.ejs",parent:angular.element(document.body),locals:{user:o.main.user},targetEvent:t,clickOutsideToClose:!0})})},title:"Create Discussion",icon:"message"};general.unshift(r),this.general=general,i.get("/trendingDiscussions").then(function(t){o.trending=t.data.discussions.map(function(t){return{title:t}})}),this.init=function(t){o.main=t},this.unfocus=function(t,e){if(e.callback)e.callback(t);else{var n=e.url||"/page/"+e.title.toLowerCase().split(" ").join("-");o.togglePanel(function(){o.softRedirect(n)})}$(t.target).blur()},this.togglePanel=function(t){var e=n("left"),i=l("gt-sm");i?t():e.close().then(t)},this.removeSettings=function(t){return function(e){return"Settings"!==e.title||t}},this.softRedirect=function(e){t.url(e)}}]),app.directive("nemooPanel",function(){return{restrict:"E",templateUrl:"/views/panel.ejs",controller:"PanelCtrl",controllerAs:"panelCtrl"}});