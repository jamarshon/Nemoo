var app=angular.module("App"),general=[{url:"/explore",title:"Explore",icon:"cloud"},{url:"/settings",title:"Settings",icon:"settings"}];app.controller("PanelCtrl",["$location","$mdDialog","$mdSidenav","$mdMedia","$http",function(t,e,n,l,i){var r=this,o={callback:function(t){r.togglePanel(),e.show({controller:"DiscussionDialogCtrl",controllerAs:"dlgCtrl",templateUrl:"/views/createDiscussionDialog.ejs",parent:angular.element(document.body),locals:{user:r.main.user},targetEvent:t,clickOutsideToClose:!0})},title:"Create Discussion",icon:"message"};general.unshift(o),this.general=general,i.get("/trendingDiscussions").then(function(t){r.trending=t.data.discussions.map(function(t){return{title:t}})}),this.init=function(t){r.main=t},this.unfocus=function(t,e){if(e.callback)e.callback(t);else{var n=e.url||"/page/"+e.title.toLowerCase().split(" ").join("-");r.togglePanel(function(){r.softRedirect(n)})}$(t.target).blur()},this.togglePanel=function(t){var e=n("left"),i=l("gt-sm");i||e.close().then(t)},this.removeSettings=function(t){return function(e){return"Settings"!==e.title||t}},this.softRedirect=function(e){t.url(e)}}]),app.controller("UserNavCtrl",["$window","$location","$mdSidenav","$mdMedia",function(t,e,n,l){var i=this;this.hardRedirect=function(e){t.location.href=e},this.softRedirect=function(t){e.url(t)},this.unfocus=function(t){i.togglePanel(),$(t.target).blur()},this.togglePanel=function(){var t=n("left"),e=l("gt-sm");e||t.close()}}]),app.directive("nemooPanel",function(){return{restrict:"E",templateUrl:"/views/panel.ejs",controller:"PanelCtrl",controllerAs:"panelCtrl"}}),app.directive("nemooUserNavPanel",function(){return{restrict:"E",templateUrl:"/views/userNavPanel.ejs",controller:"UserNavCtrl",controllerAs:"userNavCtrl"}});